{"name":"Sapper js","tagline":"simple web game sapper js","body":"<html>\r\n<head>\r\n<script src=\"https://code.jquery.com/jquery-2.1.4.js\"></script>\r\n<meta charset=\"utf-8\">\r\n<title>Web Sapper</title>\r\n<style>\r\ndiv{\r\n  width: auto;\r\n  margin:50px auto;\r\n  box-shadow: 9px 9px 30px 5px rgba(0,0,0,0.5);\r\n}\r\ninput.warning{\r\n    box-shadow: 0em 0em .0em .3em #FFDF00;\r\n}\r\ninput.bomb{\r\n    box-shadow: 0em 0em .0em .3em #FF4A3D;\r\n}\r\nh1{\r\n  text-align: center;\r\n}\r\n</style>\r\n</head>\r\n<body>\r\n<h1>Web Sapper v 0.1</h1>\r\n<div seting=\"\"></div>\r\n<h1><label for=\"nomistake\">Профессионал</label><input type=\"checkbox\" id=\"nomistake\" onClick=\"nomistake()\" nomistake=\"true\"></h1>\r\n<script id=\"jsbin-javascript\">\r\n$( document ).ready(function() {\r\n    // Длина поля\r\n    var place = 15;\r\n    // Инициализация\r\n    install(place);\r\n});\r\nvar install = function(n){\r\n  // Авто выставление ширины\r\n  $(\"div\").css(\"width\", n*20+\"px\");\r\n  // Установка настроек\r\n  $(\"div\").attr(\"seting\", n);\r\n  // Создание минного поля\r\n  for(var i=1; i<n*n+1; i++){\r\n  $(\"div\").append('<input type=\"checkbox\" checked=\"checked\" bomb=\"false\" id=\"'+i+'\" class=\"\" onClick=\"checkbomb(this.id)\">');\r\n  if(i%n === 0){\r\n  // Через каждые n элементов добавление переноса строки\r\n  $(\"div\").append('<br>');\r\n  }\r\n  }\r\n  // Установка мин на поле\r\n  // Создаем пустой массив\r\n  var placebomb = [];\r\n  // Функция закладки бомбы\r\n  function set_bomb(){\r\n    // Случайное число от 1 до n^2\r\n    var random = Math.floor((Math.random()*(n*n)) + 1);\r\n    // Если бомба уже заложена в эту клетку, вызываем рекурсию\r\n    if(placebomb.indexOf(random) > -1){\r\n    return set_bomb();\r\n    }\r\n    // Добавление места закладки бомбы\r\n    placebomb.push(random);\r\n    // Создание бомбы на поле\r\n    $(\"#\"+random).attr(\"bomb\", \"true\");\r\n  }\r\n  // Цикл закладки бомбы\r\n  for(var m=0; m<n; m++){\r\n    set_bomb();\r\n  }\r\n  // Вывод массива в консоль, для отладки\r\n  console.log(placebomb);\r\n};\r\n\r\n// Проверка кнопки, при нажатии на неё\r\nvar checkbomb = function(id){\r\n// Получение инфо о длине поля\r\nvar place = $(\"div\").attr(\"seting\");\r\n// Проверка заложенности бомбы в клетки\r\nvar bomb = $(\"#\"+id).attr(\"bomb\");\r\n// Моделирование сценария если бомба в соседний клетки \r\nvar arraybomb = [id-place, id-(-place), id-1, id-(-1), id-(-place-1), id-(-place)-1, id-place-1, id-place-(-1)];\r\n// Моделирование сценария если бомба через клетку\r\nvar arraywarning = [id-place*2, id-(-place*2), id-1*2, id-(-1*2), id-(-place*2-1*2), id-(-place*2)-1*2, id-place*2-1*2, id-place*2-(-1*2), id-place*2-1 , id-place*2-(-1), id-(-place*2)-1, id-(-place*2)-(-1), id-(-place)-(-1*2), id-(-place)-(1*2), id-(place)-(1*2), id-(place)-(-1*2)];\r\nif(bomb === 'true'){\r\n  // Если бомба заложена\r\n  // Удаление всех стилей на поле\r\n  $(\"input\").removeClass();\r\n  // Выделение клеток с бомбами\r\n  for(var z=1; z<place*place+1; z++){\r\n      bomb = $(\"#\"+z).attr(\"bomb\");\r\n      if(bomb === 'true'){\r\n        $(\"#\"+z).addClass('bomb');\r\n      }\r\n  }\r\n  // Пользовательский выбор\r\n  var cmd = confirm(\"Заново?\");\r\n  // Если да, то перезагрузим поля\r\n  if(cmd === true){\r\n    reinstal();\r\n  }\r\n  // Если нет\r\n  if(cmd === false){\r\n    alert('Вы всегда можете начать заново, прост перезапустите страницу');\r\n  }\r\n  return;\r\n}\r\nelse{\r\n// Исполнение первого сценария\r\nfor(var m=0; m<arraybomb.length; m++){\r\n  if(arraybomb[m] > 0 || arraybomb[m] < place*place){\r\n    bomb = $(\"#\"+arraybomb[m]).attr(\"bomb\");\r\n    if(bomb === 'true'){\r\n      return marklike(id, 'bomb');\r\n    }\r\n  }\r\n}\r\n// Исполнение второго сценария\r\nfor(var q=0; q<arraywarning.length; q++){\r\n  if(arraywarning[m] > 0 || arraywarning[m] < place*place){\r\n    bomb = $(\"#\"+arraywarning[m]).attr(\"bomb\");\r\n    if(bomb === 'true'){\r\n      return marklike(id, 'warning');\r\n    }\r\n  }\r\n}\r\n}\r\n};\r\n// Маркировка\r\nvar marklike = function(id, type){\r\nvar place = $(\"div\").attr(\"seting\");\r\nvar arraybomb = [id-place, id-(-place), id-1, id-(-1), id-(-place-1), id-(-place)-1, id-place-1, id-place-(-1)];\r\nfor(var m=0; m<arraybomb.length; m++){\r\n  if(arraybomb[m] > 0 || arraybomb[m] < place*place){\r\n    $(\"#\"+arraybomb[m]).addClass(type);\r\n  }\r\n}\r\n};\r\n// Перезагрузка поля\r\nvar reinstal = function(){\r\nvar place = $(\"div\").attr(\"seting\");\r\n$(\"div\").empty();\r\nsetTimeout(install, 50, place);\r\n};\r\n// Для профи режима\r\nvar nomistake = function(){\r\nvar mist = $(\"#nomistake\").attr(\"nomistake\");\r\nif(mist === 'false'){\r\n$(\"#nomistake\").attr(\"nomistake\", \"true\");\r\n$(\"div\").attr(\"seting\", \"15\");  \r\nreinstal();\r\n}\r\nif(mist === 'true'){\r\n$(\"#nomistake\").attr(\"nomistake\", \"false\");\r\n$(\"div\").attr(\"seting\", \"25\");  \r\nreinstal();\r\n}\r\n};\r\n</script>\r\n</body>\r\n</html>","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}